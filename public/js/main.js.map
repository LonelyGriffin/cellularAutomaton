{"version":3,"file":"js/main.js","sources":["webpack:///frontend/index.js","webpack:///frontend/declaration/component/index.js","webpack:///./declaration/component/tmpl.jade","webpack:///../~/jade/lib/runtime.js","webpack:///fs (ignored)","webpack:///./id.js","webpack:///frontend/declaration/container/index.js","webpack:///./declaration/container/tmpl.jade"],"sourcesContent":["/**\r\n * Created by User on 05.12.2016.\r\n */\r\nimport  Component from  \"component\";\r\nimport  Container from \"container\";\r\nlet c = new Component();\r\nlet cc = new Container(c);\r\n\r\n\r\n\r\ncc.view();\r\n\r\n$(\"body\").append(cc.$e);\n\n\n// WEBPACK FOOTER //\n// frontend/index.js","/**\r\n * Created by User on 05.12.2016.\r\n */\r\nimport defaultTemplate from \"./tmpl.jade\";\r\nimport ID from \"id\";\r\n\r\nlet eventHandlers = Symbol(\"eventHandlers\");\r\n\r\nexport default class Component {\r\n    static get events(){return {}}\r\n    constructor(template = defaultTemplate, $e=$(\"<span>\")){\r\n        this.id = ID.reserve();\r\n        this.$e = $e;\r\n        this.tmpl = template;\r\n\r\n        this[eventHandlers] = {};\r\n        this.bind();\r\n    }\r\n    getDataForRender(){\r\n        return \"Component\";\r\n    }\r\n    view(){\r\n        this.$e.append(this.render());\r\n    }\r\n    render(){\r\n        return this.tmpl({\r\n                data: this.getDataForRender()\r\n        });\r\n    }\r\n    bind(){\r\n        for(let event in this.events){\r\n            let handlerName = this.events[event];\r\n            if($.isFunction(this[handlerName])){\r\n                let handler = $.proxy(this[handlerName]);\r\n                this[eventHandlers][event] = handler;\r\n                this.$e.on(event + \"\", handler, this);\r\n            }\r\n        }\r\n    }\r\n    unbind(){\r\n        for(let event in this[eventHandlers]){\r\n            let handler = this[eventHandlers][event];\r\n            this.$e.on(event + \"\", handler, this);\r\n        }\r\n        this[eventHandlers][event] = {};\r\n    }\r\n    die(){\r\n        this.unbind();\r\n        this.$e.remove();\r\n        ID.free(this.id);\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// frontend/declaration/component/index.js","var jade = require(\"D:\\\\cellularAutomaton\\\\node_modules\\\\jade\\\\lib\\\\runtime.js\");\n\nmodule.exports = function template(locals) {\nvar buf = [];\nvar jade_mixins = {};\nvar jade_interp;\n;var locals_for_with = (locals || {});(function (data) {\nbuf.push(jade.escape(null == (jade_interp = data) ? \"\" : jade_interp));}.call(this,\"data\" in locals_for_with?locals_for_with.data:typeof data!==\"undefined\"?data:undefined));;return buf.join(\"\");\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./declaration/component/tmpl.jade\n// module id = 2\n// module chunks = 0","'use strict';\n\n/**\n * Merge two attribute objects giving precedence\n * to values in object `b`. Classes are special-cased\n * allowing for arrays and merging/joining appropriately\n * resulting in a string.\n *\n * @param {Object} a\n * @param {Object} b\n * @return {Object} a\n * @api private\n */\n\nexports.merge = function merge(a, b) {\n  if (arguments.length === 1) {\n    var attrs = a[0];\n    for (var i = 1; i < a.length; i++) {\n      attrs = merge(attrs, a[i]);\n    }\n    return attrs;\n  }\n  var ac = a['class'];\n  var bc = b['class'];\n\n  if (ac || bc) {\n    ac = ac || [];\n    bc = bc || [];\n    if (!Array.isArray(ac)) ac = [ac];\n    if (!Array.isArray(bc)) bc = [bc];\n    a['class'] = ac.concat(bc).filter(nulls);\n  }\n\n  for (var key in b) {\n    if (key != 'class') {\n      a[key] = b[key];\n    }\n  }\n\n  return a;\n};\n\n/**\n * Filter null `val`s.\n *\n * @param {*} val\n * @return {Boolean}\n * @api private\n */\n\nfunction nulls(val) {\n  return val != null && val !== '';\n}\n\n/**\n * join array as classes.\n *\n * @param {*} val\n * @return {String}\n */\nexports.joinClasses = joinClasses;\nfunction joinClasses(val) {\n  return (Array.isArray(val) ? val.map(joinClasses) :\n    (val && typeof val === 'object') ? Object.keys(val).filter(function (key) { return val[key]; }) :\n    [val]).filter(nulls).join(' ');\n}\n\n/**\n * Render the given classes.\n *\n * @param {Array} classes\n * @param {Array.<Boolean>} escaped\n * @return {String}\n */\nexports.cls = function cls(classes, escaped) {\n  var buf = [];\n  for (var i = 0; i < classes.length; i++) {\n    if (escaped && escaped[i]) {\n      buf.push(exports.escape(joinClasses([classes[i]])));\n    } else {\n      buf.push(joinClasses(classes[i]));\n    }\n  }\n  var text = joinClasses(buf);\n  if (text.length) {\n    return ' class=\"' + text + '\"';\n  } else {\n    return '';\n  }\n};\n\n\nexports.style = function (val) {\n  if (val && typeof val === 'object') {\n    return Object.keys(val).map(function (style) {\n      return style + ':' + val[style];\n    }).join(';');\n  } else {\n    return val;\n  }\n};\n/**\n * Render the given attribute.\n *\n * @param {String} key\n * @param {String} val\n * @param {Boolean} escaped\n * @param {Boolean} terse\n * @return {String}\n */\nexports.attr = function attr(key, val, escaped, terse) {\n  if (key === 'style') {\n    val = exports.style(val);\n  }\n  if ('boolean' == typeof val || null == val) {\n    if (val) {\n      return ' ' + (terse ? key : key + '=\"' + key + '\"');\n    } else {\n      return '';\n    }\n  } else if (0 == key.indexOf('data') && 'string' != typeof val) {\n    if (JSON.stringify(val).indexOf('&') !== -1) {\n      console.warn('Since Jade 2.0.0, ampersands (`&`) in data attributes ' +\n                   'will be escaped to `&amp;`');\n    };\n    if (val && typeof val.toISOString === 'function') {\n      console.warn('Jade will eliminate the double quotes around dates in ' +\n                   'ISO form after 2.0.0');\n    }\n    return ' ' + key + \"='\" + JSON.stringify(val).replace(/'/g, '&apos;') + \"'\";\n  } else if (escaped) {\n    if (val && typeof val.toISOString === 'function') {\n      console.warn('Jade will stringify dates in ISO form after 2.0.0');\n    }\n    return ' ' + key + '=\"' + exports.escape(val) + '\"';\n  } else {\n    if (val && typeof val.toISOString === 'function') {\n      console.warn('Jade will stringify dates in ISO form after 2.0.0');\n    }\n    return ' ' + key + '=\"' + val + '\"';\n  }\n};\n\n/**\n * Render the given attributes object.\n *\n * @param {Object} obj\n * @param {Object} escaped\n * @return {String}\n */\nexports.attrs = function attrs(obj, terse){\n  var buf = [];\n\n  var keys = Object.keys(obj);\n\n  if (keys.length) {\n    for (var i = 0; i < keys.length; ++i) {\n      var key = keys[i]\n        , val = obj[key];\n\n      if ('class' == key) {\n        if (val = joinClasses(val)) {\n          buf.push(' ' + key + '=\"' + val + '\"');\n        }\n      } else {\n        buf.push(exports.attr(key, val, false, terse));\n      }\n    }\n  }\n\n  return buf.join('');\n};\n\n/**\n * Escape the given string of `html`.\n *\n * @param {String} html\n * @return {String}\n * @api private\n */\n\nvar jade_encode_html_rules = {\n  '&': '&amp;',\n  '<': '&lt;',\n  '>': '&gt;',\n  '\"': '&quot;'\n};\nvar jade_match_html = /[&<>\"]/g;\n\nfunction jade_encode_char(c) {\n  return jade_encode_html_rules[c] || c;\n}\n\nexports.escape = jade_escape;\nfunction jade_escape(html){\n  var result = String(html).replace(jade_match_html, jade_encode_char);\n  if (result === '' + html) return html;\n  else return result;\n};\n\n/**\n * Re-throw the given `err` in context to the\n * the jade in `filename` at the given `lineno`.\n *\n * @param {Error} err\n * @param {String} filename\n * @param {String} lineno\n * @api private\n */\n\nexports.rethrow = function rethrow(err, filename, lineno, str){\n  if (!(err instanceof Error)) throw err;\n  if ((typeof window != 'undefined' || !filename) && !str) {\n    err.message += ' on line ' + lineno;\n    throw err;\n  }\n  try {\n    str = str || require('fs').readFileSync(filename, 'utf8')\n  } catch (ex) {\n    rethrow(err, null, lineno)\n  }\n  var context = 3\n    , lines = str.split('\\n')\n    , start = Math.max(lineno - context, 0)\n    , end = Math.min(lines.length, lineno + context);\n\n  // Error context\n  var context = lines.slice(start, end).map(function(line, i){\n    var curr = i + start + 1;\n    return (curr == lineno ? '  > ' : '    ')\n      + curr\n      + '| '\n      + line;\n  }).join('\\n');\n\n  // Alter exception message\n  err.path = filename;\n  err.message = (filename || 'Jade') + ':' + lineno\n    + '\\n' + context + '\\n\\n' + err.message;\n  throw err;\n};\n\nexports.DebugItem = function DebugItem(lineno, filename) {\n  this.lineno = lineno;\n  this.filename = filename;\n}\n\n\n\n// WEBPACK FOOTER //\n// ../~/jade/lib/runtime.js","/* (ignored) */\n\n\n//////////////////\n// WEBPACK FOOTER\n// fs (ignored)\n// module id = 4\n// module chunks = 0","/**\r\n * Created by User on 07.12.2016.\r\n */\r\n\r\nlet setsOfReservedID = Symbol(\"setsOfReservedID\");\r\n\r\nclass ID{\r\n    constructor(){\r\n        this[setsOfReservedID] = [];\r\n    }\r\n    reserve(){\r\n        if(this[setsOfReservedID].length == 0){\r\n            this[setsOfReservedID].push({\r\n                start: 0,\r\n                end: 0\r\n            });\r\n            return 0;\r\n        }\r\n\r\n        let set = this[setsOfReservedID][0];\r\n        set.end++;\r\n        let id = set.end;\r\n        if(this[setsOfReservedID].length > 1){\r\n            let forwardSet = this[setsOfReservedID][1];\r\n            if(set.end + 1 == forwardSet.start){\r\n                this[setsOfReservedID].split(0, 2, {\r\n                    start: set.start,\r\n                    end: forwardSet.end\r\n                });\r\n            }\r\n        }\r\n        return id;\r\n    }\r\n    free(id){\r\n        for(let i = 0; i < this[setsOfReservedID].length; i++){\r\n            if(this[setsOfReservedID][i].start >= id && this[setsOfReservedID][i] <= id){\r\n                let set = this[setsOfReservedID][i];\r\n                if(set.start != id && set.end != id ) {\r\n                    let newSet = {start: set.start, end: id - 1};\r\n                    let newNextSet = {start: id + 1, end: set.end};\r\n                    this[setsOfReservedID].split(i, 1, newSet, newNextSet);\r\n                } else {\r\n                    if(set.start == id){\r\n                        set.start++;\r\n                    }\r\n                    if(set.end == id){\r\n                        set.end--;\r\n                    }\r\n                    if(set.start > set.end){\r\n                        this[setsOfReservedID].split(i, 1);\r\n                    }\r\n                }\r\n                break;\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nexport default new ID();\n\n\n// WEBPACK FOOTER //\n// ./id.js","/**\r\n * Created by User on 07.12.2016.\r\n */\r\nimport Component from \"component\";\r\nimport defaultTemplate from \"./tmpl.jade\";\r\n\r\nexport default class Container extends Component{\r\n    constructor(childs = [], template = defaultTemplate, $e=$(\"<div>\")){\r\n        super(template, $e);\r\n        this.childs = $.isArray(childs) ? childs :\r\n                                    childs ? [childs] : [];\r\n    }\r\n    getDataForRender(){\r\n        return \"Container\"\r\n    }\r\n    view(){\r\n        for(let i = 0; i < this.childs.length; i++){\r\n            this.childs[i].bind();\r\n        }\r\n        super.view();\r\n        for(let i = 0; i < this.childs.length; i++){\r\n            this.childs[i].unbind();\r\n        }\r\n\r\n    }\r\n    render(){\r\n        //render childs\r\n        let childWrap = $(\"<div>\");\r\n        for(let i = 0; i < this.childs.length; i++){\r\n            this.childs[i].view();\r\n            childWrap.append(this.childs[i].$e);\r\n        }\r\n        //render container\r\n        return this.tmpl({\r\n            data: this.getDataForRender(),\r\n            childs: childWrap[0].outerHTML\r\n        });\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// frontend/declaration/container/index.js","var jade = require(\"D:\\\\cellularAutomaton\\\\node_modules\\\\jade\\\\lib\\\\runtime.js\");\n\nmodule.exports = function template(locals) {\nvar buf = [];\nvar jade_mixins = {};\nvar jade_interp;\n;var locals_for_with = (locals || {});(function (childs, data) {\nbuf.push(\"\" + (jade.escape((jade_interp = data) == null ? '' : jade_interp)) + \"\\n\" + (((jade_interp = childs) == null ? '' : jade_interp)) + \"\");}.call(this,\"childs\" in locals_for_with?locals_for_with.childs:typeof childs!==\"undefined\"?childs:undefined,\"data\" in locals_for_with?locals_for_with.data:typeof data!==\"undefined\"?data:undefined));;return buf.join(\"\");\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./declaration/container/tmpl.jade\n// module id = 7\n// module chunks = 0"],"mappings":";;;;;;;AAGA;AACA;;;AAAA;AACA;;;;;AALA;;;AAKA;AACA;AACA;AAGA;AACA;;;;;;;;;;;;;ACXA;;;;;AAGA;AACA;;;AAAA;AACA;;;;;;;AACA;AACA;AACA;;;AACA;AAAA;AAAA;;;AACA;AAAA;AAAA;AACA;AADA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAAA;AACA;AACA;;;AACA;AACA;AACA;;;AACA;AACA;AACA;AADA;AAGA;;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACA;AACA;AACA;AACA;AACA;;;;;;AA1CA;;;;;;ACRA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;ACRA;AACA;AACA;;;;;;;;;;;;;;AAYA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;AAQA;AACA;AACA;AACA;AACA;;;;;;AAMA;AACA;AACA;AACA;AAAA;AAEA;AACA;AACA;;;;;;;AAOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;AASA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;AAOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;AAQA;AACA;AACA;AACA;AACA;AAJA;AAMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;;;;;;;;;;AAUA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAIA;AACA;AACA;AACA;AAIA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;;;;;;;ACpPA;;;;;;;;;;;;;;;;ACAA;;;;AAIA;AACA;AACA;AACA;AAAA;AACA;AAAA;AACA;AACA;;;AAAA;AACA;AACA;AACA;AACA;AAFA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAIA;AACA;AACA;AACA;;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;AAGA;;;;;;;;;;;;;;;;ACvDA;AACA;;;AAAA;AACA;;;;;;;;;AALA;;;;;AAMA;;;AACA;AAAA;AAAA;AAAA;AACA;AADA;AACA;AADA;AACA;AACA;AAFA;AAIA;AACA;;;AAAA;AACA;AACA;;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAIA;;;;;;AA/BA;;;;;;ACNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;","sourceRoot":""}